<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAS COREISO</title>
    <link rel="shortcut icon" href="./images/malaysia-airlines-icon.png" type="image/x-icon">
    <link rel="stylesheet" href="./detail.css">
</head>
<body>
    <header>
        <div class="center">
            <img src="./images/malaysia-airlines-logo-white.png" alt="">
            <div class="text" id="hct"></div>
            <script>
                const currentDate_ = new Date();  
                const currentYear = currentDate_.getFullYear();  
                const currentMonth = String(currentDate_.getMonth() + 1).padStart(2, '0');
                let hct = document.querySelector('#hct');
                hct.textContent = `MESSAGE ${currentYear}.${currentMonth}`;
            </script>
        </div>
    </header>

    <div class="main">
        <div class="center">
            <div class="title"></div>
            <div class="isolate"></div>
            <div class="content"></div>
        </div>
        <script>
            let m_local = localStorage.getItem('local');  
            m_URL = './words/'+ m_local +'.txt';
            fetch(m_URL)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(data => {
                    document.querySelector('.content').innerHTML = data;
                })
                .catch(error => {
                    console.error('Failed to fetch data:', error);
                });
            
            let m_LS_KEY = 'title'+ m_local.charAt(m_local.length - 1);
            fetch('./words/titles.json')  
                .then(response => {  
                    if (!response.ok) {  
                        throw new Error('Network response was not ok');  
                    }  
                    return response.json();  
                })  
                .then(data => {  
                    let title = document.querySelector('.main .center .title');
                    title.textContent = data[m_LS_KEY];
                })
                .catch(error => {  
                    console.error('Failed to fetch data:', error);
                });
        </script>
    </div>

    <footer>
        <div class="center">
            &copy; Malaysia Airlines - Coreiso 2024
        </div>
        <script>
            const currentDate2 = new Date();  
            const currentYear2 = currentDate2.getFullYear();  
            let fc = document.querySelector('footer .center');
            fc.innerHTML = `&copy; Malaysia Airlines - Coreiso ${currentYear}`;
        </script>
    </footer>
</body>
</html>